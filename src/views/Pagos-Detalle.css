@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');

:root {
  --bg:#f9fafb;
  --panel:#ffffff;
  --muted:#6b7280;
  --text:#000000;
  --line:#e5e7eb;
  --chip:#eef2f7;
  --brand-blue:#3BA8E7;
  --brand-blue-dark:#2c7bbd;
  --brand-yellow:#FBBF24;
  --success-50:#e8f6ef; --success-700:#15803d;
  --warn-50:#fff7e6; --warn-700:#b45309;
  --danger-50:#fdecec; --danger-700:#b71c1c;
  --info-50:#eef0f3; --info-700:#374151;
  --refund-50:#E6F4FB; --refund-700:#2c7bbd;
  --radius:16px;
  --shadow-sm:0 1px 2px rgba(0,0,0,.06);
  --shadow-md:0 3px 8px rgba(0,0,0,.08);
  --shadow-lg:0 8px 20px rgba(0,0,0,.10);
}

body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.pd-wrap { max-width:1100px; margin:32px auto; padding:0 20px 32px; color:var(--text); }

.pd-title { margin:0 0 4px; font-size:28px; font-weight:800; letter-spacing:.2px; }
.pd-sub { margin:0 0 16px; color:var(--muted); font-size:14px; }
.pd-back { margin:0 0 12px; }

.pd-grid { display:grid; grid-template-columns:1.2fr 1fr 1fr; gap:12px; margin-bottom:14px; }

.pd-card { background:var(--panel); border:1px solid var(--brand-blue); border-radius:var(--radius); box-shadow:var(--shadow-lg); padding:14px; }
.pd-card-h { font-weight:700; margin:0 0 10px; color:var(--brand-blue-dark); display:flex; align-items:center; gap:8px; }

.pd-kv { display:block; }
.pd-kv > div { display:grid; grid-template-columns:170px 1fr; gap:8px; align-items:center; padding:8px 0; border:none; background:transparent; }
.pd-kv b { font-weight:700; color:#111; }
.pd-kv > div span { color:var(--muted); }

.pd-total { display:grid; grid-template-columns:170px 1fr; gap:8px; align-items:center; padding:10px 12px; margin:6px 0; background:#fff8db; border:1px dashed #f2e3a4; border-radius:10px; }
.pd-total b { font-size:16px; color:#111; }
.pd-total span { color:#111; }

.pd-actions { display:grid; grid-template-columns:auto 1fr; align-items:center; gap:16px; margin-top:8px; }
.pd-muted { color:var(--muted); margin:0; }

.pd-tbl { width:100%; border-collapse:collapse; }
.pd-tbl th, .pd-tbl td { padding:10px; border-bottom:1px solid var(--line); text-align:left; color:#000; }
.pd-empty { text-align:center; color:var(--muted); padding:20px 10px; }

.pd-btn { height:34px; border-radius:8px; border:1px solid var(--line); padding:0 12px; display:inline-flex; align-items:center; gap:6px; cursor:pointer; background:#fff; transition:.15s; font-size:13px; color:var(--text); }
.pd-btn:hover { transform:translateY(-1px); box-shadow:var(--shadow-sm); }
.pd-btn--pri { border:1px solid var(--brand-yellow); background:var(--brand-yellow); color:#000; }
.pd-btn--pri:hover { filter:brightness(.95); }
.pd-btn--ghost { background:transparent; border:1px solid var(--line); color:var(--text); }
.pd-btn--chip { height:28px; padding:0 10px; border-radius:999px; }

.pd-badge { display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; font-size:12px; }
.pd-badge--aprobado { background:var(--success-50); color:var(--success-700); }
.pd-badge--pendiente, .pd-badge--pendiente-de-pago, .pd-badge--pendiente-de-aprobacion { background:#fff8db; color:#b08900; }
.pd-badge--rechazado { background:var(--danger-50); color:var(--danger-700); }
.pd-badge--expirado { background:#eef0f3; color:#374151; }
.pd-badge--reembolsado { background:#E6F4FB; color:var(--brand-blue-dark); }
.pd-badge--disputa { background:#e9e7ff; color:#4b49a0; }
.pd-badge--credito { background:#e2e6ff; color:#1a237e; }
.pd-badge--debito { background:#e0f7fa; color:#006064; }
.pd-badge--mercado-pago { background:#E6F4FB; color:var(--brand-blue-dark); }
.pd-badge--efectivo { background:#e8f5e9; color:#1b5e20; }

.pd-refunds { margin-top:12px; }

.pd-timeline { margin-top:12px; background:var(--panel); border:1px solid var(--brand-blue); border-radius:var(--radius); box-shadow:var(--shadow-lg); padding:14px; }
.pd-tl-head { display:flex; align-items:center; gap:8px; justify-content:inherit; }
.pd-tl-filters { display:flex; gap:8px; align-items:center; }
.pd-select { height:34px; }

.pd-head { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; margin-bottom: 8px; }
.pd-head-center { justify-self: center; text-align: center; }
.pd-head-spacer { height: 1px; }
.pd-back { justify-self: start; }

.pd-comprobante { display: flex; flex-direction: column; align-items: center; gap: 12px; margin-top: 8px; }

/* ===== TIMELINE ALTERNADO ===== */
.pd-timeline--alt { position: relative; padding: 14px; }
.pd-time-alt { position: relative; margin: 0; padding: 24px 0; list-style: none; }
.pd-time-alt::before { content: ""; position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; background: var(--line); transform: translateX(-50%); }

.pd-time-alt-item { position: relative; width: 50%; padding: 12px 28px; box-sizing: border-box; }
.pd-time-alt-item.pd-left { left: 0; text-align: right; }
.pd-time-alt-item.pd-right { left: 50%; text-align: left; }

.pd-time-alt-item::before { content: ""; position: absolute; top: 28px; width: 12px; height: 12px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 0 0 2px rgba(0,0,0,.05); background: var(--info-700); z-index: 2; }
.pd-time-alt-item.pd-left::before { right: -6px; left: auto; }
.pd-time-alt-item.pd-right::before { left: -6px; right: auto; }

.pd-time-state::before { background: #16a34a; }
.pd-time-error::before { background: #dc2626; }
.pd-time-refund::before { background: var(--brand-blue-dark); }
.pd-time-info::before { background: #6b7280; }

.pd-time-card { display: inline-block; max-width: 440px; background: var(--panel); border: 1px solid var(--line); border-radius: 14px; box-shadow: var(--shadow-md); padding: 14px; }
.pd-time-card-h { display: flex; align-items: baseline; justify-content: space-between; gap: 12px; margin-bottom: 2px; }
.pd-time-title { font-weight: 800; letter-spacing: .2px; }
.pd-time-date { color: var(--muted); white-space: nowrap; }
.pd-time-meta { color: var(--muted); font-size: 12px; margin-top: 2px; }

.pd-tl-highlights { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
.pd-chip-kv { display: inline-flex; gap: 6px; align-items: center; background: #f3f6fb; border: 1px solid #e3e8ef; border-radius: 999px; padding: 4px 8px; }
.pd-chip-k { font-size: 12px; color: #111; font-weight: 700; }
.pd-chip-v { font-size: 12px; color: #111; font-weight: 600; }

.pd-tl-actions { display: flex; gap: 8px; margin-top: 8px; }
.pd-pre { margin: 0; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size: 12px; white-space: pre-wrap; word-break: break-word; }

.pd-dot-label { appearance: none; border: 1px solid var(--line); background: var(--panel); box-shadow: var(--shadow-sm); border-radius: 999px; padding: 8px 14px; font-size: 14px; cursor: default; display: inline-flex; align-items: center; gap: 8px; }
.pd-dot-label:focus { outline: none; }
.pd-evt-title { font-weight: 800; letter-spacing: .2px; color: #0b0b0b; }

.pd-dot-label::after { content: attr(data-tip); position: absolute; top: 2px; transform: translateY(-100%); background: #0f172a; color: #fff; padding: 6px 10px; border-radius: 8px; font-size: 12px; line-height: 1; white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity .12s ease, transform .12s ease; }
.pd-dot-label:hover::after { opacity: 1; transform: translateY(calc(-100% - 4px)); }
.pd-left .pd-dot-label::after { right: 32px; }
.pd-right .pd-dot-label::after { left: 32px; }

.pd-time-head { display:flex; flex-direction:column; gap:6px; }
.pd-left .pd-time-head { align-items:flex-end; }
.pd-right .pd-time-head { align-items:flex-start; }
.pd-more { margin-top:2px; }
.pd-time-alt-item + .pd-time-alt-item { margin-top:10px; }
.pd-time-card { margin-top:12px; }

/* ===== Responsive ===== */
@media (max-width: 960px) {
  .pd-grid { grid-template-columns:1fr; }
  .pd-kv > div, .pd-total { grid-template-columns:140px 1fr; }

  .pd-time-alt::before { left: 18px; transform: none; }
  .pd-time-alt-item { width: 100%; padding: 12px 12px 12px 48px; text-align: left; left: 0; }
  .pd-time-alt-item.pd-left::before,
  .pd-time-alt-item.pd-right::before { left: 12px; right: auto; }
  .pd-left .pd-dot-label::after,
  .pd-right .pd-dot-label::after { left: 32px; right: auto; }
  .pd-time-card { max-width: 100%; }
}

@media (max-width:720px) {
  .pd-actions { grid-template-columns:1fr; gap:8px; }
  .pd-kv > div, .pd-total { grid-template-columns:120px 1fr; }
  .pd-head { grid-template-columns: 1fr auto 1fr; row-gap: 6px; }
  .pd-head-center { grid-column: 1 / -1; justify-self: center; }
}
.pd-modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.pd-modal{
  width:100%;
  max-width:520px;
  background:#fff;
  border-radius:16px;
  box-shadow:0 20px 50px rgba(0,0,0,0.2);
  padding:20px;
}
.pd-modal-h{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:12px;
}
.pd-field{
  display:flex;
  flex-direction:column;
  gap:6px;
  margin-bottom:10px;
}
.pd-input{
  width:100%;
}
.pd-textarea{
  min-height:90px;
  resize:vertical;
}
.pd-modal-actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin-top:6px;
}
