:root {
  --bg: #f6f7fb;
  --surface: #ffffff;
  --surface-2: #f9fafb;
  --ink: #1f2937;
  --ink-soft: #4b5563;
  --muted: #6b7280;
  --line: #e5e7eb;
  --line-strong: #d1d5db;
  --brand: #2563eb;
  --brand-600: #1d4ed8;
  --ok: #16a34a;
  --warn: #d97706;
  --err: #dc2626;
}

* { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

body { background: var(--bg); }

.pd-wrap {
  position: relative;
  max-width: 1080px;
  margin: 32px auto;
  padding: 0 20px 24px;
  color: var(--ink);
}

.pd-back {
  position: absolute;
  left: 20px;
  top: 6px;
}

.pd-title {
  margin: 0 0 6px;
  font-size: 28px;
  font-weight: 800;
  color: var(--ink);
  text-align: center;
}

.pd-sub {
  margin: 0 0 18px;
  color: var(--muted);
  text-align: center;
}

/* Botones */
.pd-btn {
  height: 36px;
  padding: 0 14px;
  border-radius: 10px;
  border: 1px solid var(--line-strong);
  background: var(--surface);
  color: var(--ink);
  cursor: pointer;
  transition: background .12s ease, border-color .12s ease, box-shadow .12s ease, transform .08s ease;
}
.pd-btn:hover { background: #f3f4f6; border-color: var(--line-strong); }
.pd-btn:active { transform: translateY(1px); }
.pd-btn:focus-visible { outline: 3px solid rgba(37,99,235,.25); outline-offset: 2px; }

.pd-btn--ghost { background: var(--surface); border-color: var(--line-strong); }
.pd-btn--pri {
  background: var(--brand);
  border-color: var(--brand);
  color: #fff;
}
.pd-btn--pri:hover { background: var(--brand-600); border-color: var(--brand-600); }
.pd-btn--chip { background: var(--surface-2); }

/* Tarjetas */
.pd-grid {
  display: grid;
  grid-template-columns: 1.2fr 1fr 1fr;
  gap: 14px;
  margin-bottom: 16px;
}

.pd-card {
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 6px 16px rgba(17,24,39,.04);
}

.pd-card-h {
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--ink);
  font-size: 15px;
  letter-spacing: .2px;
  padding-bottom: 6px;
  border-bottom: 1px solid var(--line);
}

/* Key-values */
.pd-kv {
  display: grid;
  gap: 8px 16px;
}
.pd-kv > div {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  padding: 6px 8px;
  border-radius: 8px;
}
.pd-kv b { font-weight: 600; color: var(--ink); }
.pd-kv > div span { color: var(--ink-soft); font-size: 13px; }
.pd-total b { font-size: 18px; }

/* Badges */
.pd-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  border: 1px solid transparent;
  font-weight: 700;
  text-transform: none;
}
.pd-badge--aprobado { background: #ecfdf5; color: #047857; border-color: #bbf7d0; }
.pd-badge--pendiente { background: #fffbeb; color: #92400e; border-color: #fde68a; }
.pd-badge--rechazado { background: #fef2f2; color: #991b1b; border-color: #fecaca; }
.pd-badge--expirado { background: #f3f4f6; color: #374151; border-color: #e5e7eb; }
.pd-badge--disputa { background: #eef2ff; color: #3730a3; border-color: #c7d2fe; }
.pd-badge--reembolsado { background: #ecfeff; color: #155e75; border-color: #a5f3fc; }
.pd-badge--credito { background: #eef2ff; color: #3730a3; border-color: #c7d2fe; }
.pd-badge--debito { background: #ecfeff; color: #065f46; border-color: #99f6e4; }
.pd-badge--billetera { background: #f0fdf4; color: #166534; border-color: #bbf7d0; }

/* Comprobantes */
.pd-actions {
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 16px;
  margin-top: 6px;
}
.pd-actions .pd-btn { white-space: nowrap; }
.pd-actions .pd-muted { margin: 0; text-align: left; color: var(--muted); }

/* Texto auxiliar */
.pd-muted { color: var(--muted); }

/* Reembolsos */
.pd-refunds { margin-top: 12px; }

/* Timeline */
.pd-timeline {
  margin-top: 12px;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 6px 16px rgba(17,24,39,.04);
}

.pd-time {
  list-style: none;
  margin: 0;
  padding: 0 0 0 18px;
  position: relative;
}
.pd-time::before {
  content: '';
  position: absolute;
  left: 6px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(180deg, #e5e7eb, #e5e7eb);
  border-radius: 2px;
}

.pd-time li {
  display: grid;
  grid-template-columns: 14px 1fr max-content;
  column-gap: 10px;
  align-items: start;
  padding: 16px 0;
  position: relative;
}

.pd-time-row { display: contents; }

.pd-time-dot {
  grid-column: 1;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--brand);
  box-shadow: 0 0 0 4px rgba(37,99,235,.15);
  margin-top: 6px;
}

.pd-time-txt { grid-column: 2; color: var(--ink); }
.pd-time-txt b { font-weight: 700; }
.pd-time-date { grid-column: 3; color: var(--ink-soft); white-space: nowrap; }

.pd-payload {
  margin-top: 10px;
  background: var(--surface-2);
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 10px;
}

.pd-kv--mini > div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #fff;
  border: 1px solid var(--line);
  border-radius: 8px;
  padding: 8px 12px;
  gap: 18px;
}
.pd-kv--mini > div b { font-size: 12px; font-weight: 600; color: var(--ink); }
.pd-kv--mini > div span { font-size: 12px; color: var(--ink-soft); text-align: right; }

/* Tablas genÃ©ricas */
.pd-tbl { width: 100%; border-collapse: collapse; }
.pd-tbl th, .pd-tbl td { padding: 10px; border-bottom: 1px solid var(--line); text-align: left; color: var(--ink); }
.pd-tbl thead th { font-size: 12px; color: var(--ink-soft); background: var(--surface-2); }
.pd-empty { text-align: center; color: var(--muted); padding: 20px 10px; }

/* Modal */
.pd-modal-overlay {
  position: fixed; inset: 0; background: rgba(17,24,39,.45);
  display: flex; align-items: center; justify-content: center; z-index: 50;
}
.pd-modal {
  width: min(520px, 92vw);
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 14px;
  padding: 16px;
  box-shadow: 0 24px 64px rgba(17,24,39,.25);
}
.pd-modal-h { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
.pd-field { display: block; margin-bottom: 10px; }
.pd-field > span { display: block; font-size: 12px; color: var(--ink-soft); margin-bottom: 6px; }
.pd-input {
  width: 100%; height: 38px; border-radius: 10px; border: 1px solid var(--line-strong);
  background: var(--surface); color: var(--ink); padding: 0 12px;
}
.pd-input:focus-visible { outline: 3px solid rgba(37,99,235,.25); outline-offset: 2px; }
.pd-textarea { min-height: 100px; padding: 10px; resize: vertical; }

/* Responsive */
@media (max-width: 960px) {
  .pd-grid { grid-template-columns: 1fr; }
}
@media (max-width: 720px) {
  .pd-actions { grid-template-columns: 1fr; gap: 10px; }
}
