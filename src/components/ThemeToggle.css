/* ELIMINA TODAS LAS REGLAS CSS PARA:
  .theme-toggle__icon, 
  .theme-toggle:hover .theme-toggle__icon, 
  .theme-toggle.dark .theme-toggle__icon,
  .theme-toggle.dark:hover .theme-toggle__icon

  Y REEMPLÁZALAS CON ESTAS:
*/

/* Este es el nuevo elemento (el ícono) */
.theme-toggle__sun-moon {
  position: relative;
  z-index: 1;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  
  /* MODO CLARO (Luna): Es un color de luna (gris) */
  background-color: var(--text-secondary);
  
  /* Animación suave para todo */
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  
  /* Sombra interna para darle efecto de cráter (opcional) */
  box-shadow: inset 4px -4px 0 0 rgba(0,0,0,0.1); 
}

/* Este es el TRUCO:
  Es una "sombra" (un círculo del color del fondo) que se
  posiciona encima del ícono para crear la forma de "luna creciente".
*/
.theme-toggle__sun-moon::after {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  
  /* Es un círculo del color del fondo (del círculo .theme-toggle__circle) */
  background-color: var(--bg-secondary);
  
  /* Lo movemos para crear la media luna */
  transform: translateX(6px);
  
  /* Animación suave */
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.3s ease;
}


/* * --- MODO OSCURO (Sol) ---
 */

.theme-toggle.dark .theme-toggle__sun-moon {
  /* 1. El ícono gira (mantenemos esto, queda bien) */
  transform: rotate(180deg);
  
  /* 2. El núcleo se vuelve amarillo (Sol) */
  background-color: var(--brand-yellow); /* Usando tu variable de theme.css */
  
  /* 3. Quitamos la sombra de cráter */
  box-shadow: none; 
}

/* 4. La "sombra" (::after) se esconde 
   (se mueve completamente fuera del sol)
*/
.theme-toggle.dark .theme-toggle__sun-moon::after {
  transform: translateX(20px);
}


/* * --- HOVERS (Efectos al pasar el mouse) ---
 */

/* Hover en Modo Claro (Luna) */
.theme-toggle:hover .theme-toggle__sun-moon {
  background-color: var(--brand-blue-dark); /* La luna se pone azul */
}
/* La sombra (::after) debe tomar el color de fondo del hover */
.theme-toggle:hover .theme-toggle__sun-moon::after {
  /* Usamos el color de fondo que definiste para el hover del círculo */
  background-color: var(--brand-blue-50, #eef6ff); 
}

/* Hover en Modo Oscuro (Sol) */
.theme-toggle.dark:hover .theme-toggle__sun-moon {
  background-color: var(--brand-yellow); /* Se mantiene amarillo */
  transform: rotate(180deg) scale(1.1); /* Lo hacemos pulsar un poco */
}
/* El fondo del círculo grande cambia (como ya tenías) */
.theme-toggle.dark:hover .theme-toggle__circle {
  /* Estos valores los tomo de tu CSS original para el modo oscuro */
  background-color: var(--status-warning-bg, #fef3c7);
  border-color: var(--brand-yellow);
}